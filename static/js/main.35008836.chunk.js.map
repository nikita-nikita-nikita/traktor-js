{"version":3,"sources":["components/Wheel/wheel.styled.js","components/Wheel/index.js","components/Wheel/Wheel.jsx","components/Tractor/tractor.styled.js","services/speed.service.js","context/speed.context.js","context/Provider.jsx","context/index.js","components/Tractor/index.js","components/Tractor/Tractor.jsx","App.js","index.js"],"names":["forwardRotateKeyframe","keyframes","reverseRotateKeyframe","Wheel","styled","div","isForward","speed","layout","Bolt","position","size","height","width","top","left","forwardKeyframe","document","body","clientWidth","reverseKeyframe","Wheels","Tractor","main","TractorBody","TractorCabin","TractorContainer","small","tractorWidth","reverseSpeed","getSpeed","getLinearSpeed","mainRadialSpeed","Math","PI","getSmallRadialSpeed","getTime","linearSpeed","SpeedContext","createContext","Provider","getValue","value","speedService","radiuses","time","wheelsSpeed","SpeedProvider","children","useState","setIsForward","trueValue","useMemo","falseValue","useEffect","setTimeout","setInterval","useContext","smallSpeed","mainSpeed","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.35008836.chunk.js","sourcesContent":["import styled, {keyframes} from \"styled-components\";\r\nimport { layout, position } from 'styled-system';\r\n\r\nconst forwardRotateKeyframe = keyframes`\r\n  from {\r\n    transform: rotate(-360deg);\r\n  }\r\n`;\r\n\r\nconst reverseRotateKeyframe = keyframes`\r\n  from {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nexport const Wheel = styled.div`\r\n  border-radius: 50%;\r\n  background: #000;\r\n  position: relative;\r\n  animation: ${({isForward}) => isForward ? forwardRotateKeyframe : reverseRotateKeyframe} linear;\r\n  animation-duration: ${({speed}) => 1 / speed}s;\r\n  animation-iteration-count: infinite;\r\n  ${layout}\r\n`;\r\n\r\nexport const Bolt = styled.div`\r\n  width: 15px;\r\n  height: 15px;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  background: yellow;\r\n  top: calc(25% - 7.5px);\r\n  left: calc(50% - 7.5px);\r\n  ${position}\r\n`;","import {Wheel} from \"./Wheel\";\r\n\r\nexport default Wheel;","import React from \"react\";\r\nimport {Wheel as WheelStyled, Bolt} from \"./wheel.styled\";\r\n\r\nexport const Wheel = ({size = 120, speed, isForward}) => {\r\n    return (\r\n        <WheelStyled height={size} width={size} speed={speed} isForward={isForward}>\r\n            <Bolt/>\r\n            <Bolt top=\"calc(75% - 7.5px)\"/>\r\n            <Bolt top=\"calc(50% - 7.5px)\" left=\"calc(25% - 7.5px)\"/>\r\n            <Bolt top=\"calc(50% - 7.5px)\" left=\"calc(75% - 7.5px)\"/>\r\n        </WheelStyled>\r\n    )\r\n}","import styled, {keyframes} from \"styled-components\";\r\n\r\nconst forwardKeyframe = keyframes`\r\n  0% {\r\n    transform: translateX(-1000px);\r\n  }\r\n  100% {\r\n    transform: translateX(${document.body.clientWidth + 1000}px);\r\n  }\r\n`;\r\n\r\nconst reverseKeyframe = keyframes`\r\n  0% {\r\n    transform: translateX(${document.body.clientWidth + 1000}px);\r\n  }\r\n  100% {\r\n    transform: translateX(-1000px);\r\n  }\r\n`;\r\n\r\nexport const Wheels = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-end;\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n`;\r\n\r\nexport const Tractor = styled.main`\r\n  height: 1000px;\r\n  width: 1000px;\r\n  position: relative;\r\n  transform: translateX(-1000px);\r\n  animation: ${({isForward}) => isForward ? forwardKeyframe : reverseKeyframe} 5s linear;\r\n`;\r\n\r\nexport const TractorBody = styled.div`\r\n  background: red;\r\n  width: 865px;\r\n  height: 400px;\r\n  position: absolute;\r\n  left: 75px;\r\n  bottom: 60px;\r\n`;\r\n\r\nexport const TractorCabin = styled.div`\r\n  background: red;\r\n  width: 300px;\r\n  height: 150px;\r\n  position: absolute;\r\n  left: 75px;\r\n  bottom: 460px;\r\n`;\r\n\r\nexport const TractorContainer = styled.div`\r\n  width: 100%;\r\n  overflow: hidden;\r\n`;\r\n","/**\r\n * sm it's means pixels\r\n */\r\n\r\nconst MAIN_RADIUS = 150; // sm\r\nconst SMALL_RADIUS = 120; // sm\r\n\r\nconst SPEED = 0.7; // revolutions per second\r\nconst REVERSE_SPEED = 0.4; // revolutions per second\r\n\r\nconst TRACTOR_WIDTH = 1000; // pixels\r\n\r\nclass SpeedService {\r\n    main = MAIN_RADIUS;\r\n    small = SMALL_RADIUS;\r\n\r\n    tractorWidth = TRACTOR_WIDTH;\r\n\r\n    speed = SPEED;\r\n    reverseSpeed = REVERSE_SPEED;\r\n\r\n    getSpeed = (isForward) => isForward ? this.speed : this.reverseSpeed;\r\n\r\n/**\r\n * ger linear speed in sm\r\n */\r\n\r\n    getLinearSpeed = (mainRadialSpeed) => {\r\n        return Math.PI * 2 * mainRadialSpeed * this.main;\r\n    };\r\n\r\n    getSmallRadialSpeed = (mainRadialSpeed) => {\r\n        return (this.main * mainRadialSpeed)/this.small;\r\n    };\r\n\r\n    getTime = (linearSpeed) => {\r\n        return (this.tractorWidth + document.body.clientWidth) / linearSpeed;\r\n    }\r\n}\r\n\r\nexport default new SpeedService();","import {createContext, useContext} from \"react\";\r\n\r\nconst SpeedContext = createContext(null);\r\n\r\nexport const Provider = SpeedContext.Provider;\r\n\r\nexport const useSpeedContext = () => useContext(SpeedContext);\r\n","import speedService from 'services/speed.service';\r\nimport {Provider} from \"./speed.context\";\r\nimport {useEffect, useMemo, useState} from \"react\";\r\n\r\nconst RIGHT_DELAY = 1000;\r\nconst LEFT_DELAY = 2000;\r\n\r\nexport const SpeedProvider = ({children}) => {\r\n    const [isForward, setIsForward] = useState(true);\r\n    const trueValue = useMemo(() => getValue(true), []);\r\n    const falseValue = useMemo(() => getValue(false), []);\r\n    const value = isForward ? trueValue : falseValue;\r\n    useEffect(() => {\r\n        const time = (trueValue.time * 1000) + RIGHT_DELAY;\r\n        setTimeout(() => {\r\n            setIsForward(false)\r\n        }, time);\r\n        setInterval(() => {\r\n            setIsForward(true)\r\n            setTimeout(() => {\r\n                setIsForward(false)\r\n            }, time);\r\n        }, time + falseValue.time*1000 + LEFT_DELAY);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    return (\r\n        <Provider value={value}>\r\n            {children}\r\n        </Provider>\r\n    );\r\n}\r\n\r\nfunction getValue(isForward) {\r\n    const value = {};\r\n    const speed = speedService.getSpeed(isForward);\r\n    const linearSpeed = speedService.getLinearSpeed(speed)\r\n    value.radiuses = {\r\n        small: speedService.small,\r\n        main: speedService.main,\r\n    }\r\n    value.time = speedService.getTime(linearSpeed);\r\n    value.linearSpeed = linearSpeed;\r\n    value.wheelsSpeed = {\r\n        small: speedService.getSmallRadialSpeed(speed),\r\n        main: speed,\r\n    };\r\n    value.tractorWidth = speedService.tractorWidth\r\n    value.isForward = isForward;\r\n    return value;\r\n}","import {SpeedProvider} from \"./Provider\";\r\n\r\nexport {useSpeedContext} from './speed.context';\r\n\r\nexport default SpeedProvider;","import {Tractor} from \"./Tractor\";\r\n\r\nexport default Tractor;\r\n","import Wheel from \"components/Wheel\";\r\nimport {Wheels, Tractor as TractorStyled, TractorBody, TractorCabin, TractorContainer} from \"./tractor.styled\";\r\nimport {useSpeedContext} from \"context\";\r\n\r\nexport const Tractor = () => {\r\n    const {time, wheelsSpeed:{small:smallSpeed, main:mainSpeed}, isForward, radiuses:{small, main}} = useSpeedContext();\r\n     return (\r\n        <TractorContainer >\r\n            <TractorStyled isForward={isForward} time={time}>\r\n                <TractorCabin/>\r\n                <TractorBody/>\r\n                <Wheels>\r\n                    <Wheel size={main} speed={mainSpeed} isForward={isForward}/>\r\n                    <Wheel size={small} speed={smallSpeed} isForward={isForward}/>\r\n                </Wheels>\r\n            </TractorStyled>\r\n        </TractorContainer>\r\n    )\r\n}","import './App.css';\nimport Tractor from \"components/Tractor\";\nimport Context from 'context'\n\nfunction App() {\n  return (\n      <Context>\n        <Tractor/>\n      </Context>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}